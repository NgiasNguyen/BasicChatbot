# TÃ³m Táº¯t MÃ´ HÃ¬nh Chatbot

## ğŸ“‹ Tá»•ng Quan

Chatbot há»i-Ä‘Ã¡p sá»­ dá»¥ng **Information Retrieval (IR)** vá»›i ká»¹ thuáº­t:
- **TF-IDF Vectorization** Ä‘á»ƒ biá»ƒu diá»…n vÄƒn báº£n dÆ°á»›i dáº¡ng vector sá»‘
- **Cosine Similarity** Ä‘á»ƒ tÃ¬m cÃ¢u há»i tÆ°Æ¡ng tá»± nháº¥t trong database

## ğŸ”„ Quy TrÃ¬nh Hoáº¡t Äá»™ng

### 1. **Giai Äoáº¡n Tiá»n Xá»­ LÃ½ (Preprocessing)**

**HÃ m `preprocess_vietnamese()`:**
- âœ… **Lowercase**: Chuyá»ƒn táº¥t cáº£ kÃ½ tá»± thÃ nh chá»¯ thÆ°á»ng
- âœ… **Bá» dáº¥u**: Loáº¡i bá» dáº¥u tiáº¿ng Viá»‡t (Ã¡ â†’ a, áº¿ â†’ e, ...)
- âœ… **Chuáº©n hÃ³a khoáº£ng tráº¯ng**: Loáº¡i bá» khoáº£ng tráº¯ng thá»«a

**VÃ­ dá»¥:**
```
Input:  "AI lÃ  gÃ¬?"
Output: "ai la gi"
```

### 2. **Giai Äoáº¡n Huáº¥n Luyá»‡n (Training)**

**BÆ°á»›c 1: Load dá»¯ liá»‡u**
- Äá»c file CSV chá»©a cÃ¡c cáº·p (cÃ¢u há»i, cÃ¢u tráº£ lá»i)
- LÆ°u trá»¯: `questions[]`, `answers[]`, `processed_questions[]`

**BÆ°á»›c 2: Vector hÃ³a báº±ng TF-IDF**
```python
TfidfVectorizer(
    ngram_range=(1, 2),    # XÃ©t tá»« Ä‘Æ¡n vÃ  cá»¥m 2 tá»«
    max_features=5000,      # Tá»‘i Ä‘a 5000 features
    min_df=1,               # Tá»« pháº£i xuáº¥t hiá»‡n Ã­t nháº¥t 1 láº§n
    max_df=0.95             # Bá» qua tá»« xuáº¥t hiá»‡n >95% documents
)
```

**Káº¿t quáº£:**
- Má»—i cÃ¢u há»i Ä‘Æ°á»£c chuyá»ƒn thÃ nh vector sá»‘ (sparse matrix)
- Vocabulary size: ~1171 tá»« (vá»›i 199 cÃ¢u há»i)

### 3. **Giai Äoáº¡n Dá»± ÄoÃ¡n (Inference)**

Khi ngÆ°á»i dÃ¹ng há»i cÃ¢u há»i má»›i:

1. **Tiá»n xá»­ lÃ½** cÃ¢u há»i cá»§a ngÆ°á»i dÃ¹ng
2. **Vector hÃ³a** cÃ¢u há»i báº±ng TF-IDF (dÃ¹ng cÃ¹ng vectorizer Ä‘Ã£ train)
3. **TÃ­nh Cosine Similarity** vá»›i táº¥t cáº£ cÃ¢u há»i trong database:
   ```
   similarity = cosine_similarity(user_vector, question_vectors)
   ```
4. **TÃ¬m cÃ¢u há»i cÃ³ similarity cao nháº¥t**
5. **Kiá»ƒm tra ngÆ°á»¡ng**: Náº¿u similarity >= threshold (0.1) â†’ tráº£ vá» cÃ¢u tráº£ lá»i tÆ°Æ¡ng á»©ng

## ğŸ“Š CÃ´ng Thá»©c ToÃ¡n Há»c

### TF-IDF (Term Frequency-Inverse Document Frequency)

**TF (Term Frequency):**
```
TF(t, d) = (Sá»‘ láº§n tá»« t xuáº¥t hiá»‡n trong document d) / (Tá»•ng sá»‘ tá»« trong d)
```

**IDF (Inverse Document Frequency):**
```
IDF(t, D) = log(N / (Sá»‘ documents chá»©a tá»« t))
```

**TF-IDF Score:**
```
TF-IDF(t, d, D) = TF(t, d) Ã— IDF(t, D)
```

### Cosine Similarity

Äo Ä‘á»™ tÆ°Æ¡ng Ä‘á»“ng giá»¯a 2 vector:

```
cosine_similarity(A, B) = (A Â· B) / (||A|| Ã— ||B||)
```

- GiÃ¡ trá»‹ tá»« 0 Ä‘áº¿n 1
- 1 = hoÃ n toÃ n giá»‘ng nhau
- 0 = khÃ´ng liÃªn quan

## ğŸ¯ Tham Sá»‘ Cáº¥u HÃ¬nh

| Tham sá»‘ | GiÃ¡ trá»‹ | MÃ´ táº£ |
|---------|---------|-------|
| `similarity_threshold` | 0.1 | NgÆ°á»¡ng similarity tá»‘i thiá»ƒu Ä‘á»ƒ tráº£ lá»i |
| `ngram_range` | (1, 2) | XÃ©t tá»« Ä‘Æ¡n vÃ  cá»¥m 2 tá»« |
| `max_features` | 5000 | Sá»‘ lÆ°á»£ng features tá»‘i Ä‘a |
| `min_df` | 1 | Tá»« pháº£i xuáº¥t hiá»‡n Ã­t nháº¥t 1 láº§n |
| `max_df` | 0.95 | Bá» qua tá»« xuáº¥t hiá»‡n >95% documents |

## ğŸ“ˆ Äáº·c Äiá»ƒm MÃ´ HÃ¬nh

### âœ… Æ¯u Äiá»ƒm:
- **ÄÆ¡n giáº£n, dá»… hiá»ƒu**: KhÃ´ng cáº§n deep learning
- **Nhanh**: Vector hÃ³a vÃ  tÃ­nh similarity ráº¥t nhanh
- **KhÃ´ng cáº§n training phá»©c táº¡p**: Chá»‰ cáº§n vector hÃ³a dá»¯ liá»‡u
- **PhÃ¹ há»£p vá»›i dá»¯ liá»‡u nhá»**: Hiá»‡u quáº£ vá»›i vÃ i trÄƒm cÃ¢u há»i

### âš ï¸ Háº¡n Cháº¿:
- **KhÃ´ng hiá»ƒu ngá»¯ cáº£nh**: Chá»‰ dá»±a vÃ o tá»« khÃ³a
- **KhÃ´ng há»c Ä‘Æ°á»£c**: KhÃ´ng cáº£i thiá»‡n theo thá»i gian
- **Phá»¥ thuá»™c vÃ o dá»¯ liá»‡u**: Cháº¥t lÆ°á»£ng phá»¥ thuá»™c vÃ o database
- **KhÃ´ng xá»­ lÃ½ Ä‘Æ°á»£c cÃ¢u há»i phá»©c táº¡p**: Chá»‰ tÃ¬m cÃ¢u há»i tÆ°Æ¡ng tá»±

## ğŸ” VÃ­ Dá»¥ Hoáº¡t Äá»™ng

**Input:** "AI lÃ  gÃ¬?"

1. Tiá»n xá»­ lÃ½: `"ai la gi"`
2. Vector hÃ³a: `[0.2, 0.0, 0.5, 0.1, ...]` (vector 1171 chiá»u)
3. TÃ­nh similarity vá»›i 199 cÃ¢u há»i:
   - CÃ¢u há»i "AI lÃ  gÃ¬?": similarity = 0.95 âœ“
   - CÃ¢u há»i "Chatbot lÃ  gÃ¬?": similarity = 0.15
   - ...
4. Chá»n cÃ¢u há»i cÃ³ similarity cao nháº¥t (0.95)
5. Tráº£ vá» cÃ¢u tráº£ lá»i tÆ°Æ¡ng á»©ng

## ğŸ“¦ Dá»¯ Liá»‡u

- **Sá»‘ lÆ°á»£ng cÃ¢u há»i**: 199 cáº·p
- **Vocabulary size**: 1171 tá»«
- **Äá»‹nh dáº¡ng**: CSV vá»›i 2 cá»™t: "question", "answer"

## ğŸš€ á»¨ng Dá»¥ng

MÃ´ hÃ¬nh nÃ y phÃ¹ há»£p cho:
- FAQ chatbot
- Há»‡ thá»‘ng há»i-Ä‘Ã¡p Ä‘Æ¡n giáº£n
- TÃ¬m kiáº¿m tÃ i liá»‡u
- Há»— trá»£ khÃ¡ch hÃ ng cÆ¡ báº£n

